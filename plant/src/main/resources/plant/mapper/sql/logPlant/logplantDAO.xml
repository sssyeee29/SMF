<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="logplantDAO">
    <select id="findlogs" resultType="CustomMap">

        SELECT DATE_FORMAT (log.input_date ,'%Y-%m-%d %H:%i') as timestamp
             , log.product_code as productCode
             , case when log.product_result = 'defect' then '불량품'
             		when log.product_result = 'normal' then '양품'
               else '보류' end
             as result
             , log.defect_type as type
             , TRUNCATE(log.confidence,2) as confidence
             , log.image_url as image
        FROM detection_log_tbl log
        order by log.input_date desc

    </select>
</mapper>